# maya_rotationDriver
ボーンのオイラー角回転を、ボーン方向を元にした「捻り／縦方向の曲げ／横方向の曲げ」という独立した三つの角度に分解・合成するMayaプラグインのPython実装の簡単なサンプルです。

##ディレクトリ構成
* scripts: アトリビュートエディタレイアウト定義用のmelスクリプト。
* plug-ins: Pythonによるプラグイン。
* examples: ごく簡単なMaya 2016シーンの例。

##ノードについて
プラグイン rotationDriver.py は以下の二つのノードを含んでいます。

* decomposeRotate
  オイラー角回転を入力して「捻り／縦方向の曲げ／横方向の曲げ」を出力するノード。
  以下のアトリビュートを持ちます。
  - method: 分解方法の選択。
  - rotate: オイラー角回転の入力。
  - rotateOrder: 入力回転のオーダー。
  - axisOrient: ボーン方向を定義するための回転。
  - outDecomposedAngle: 分解された三つの角度の出力。

* composeRotate
  「捻り／縦方向の曲げ／横方向の曲げ」を入力してオイラー角回転を出力するノード。
  以下のアトリビュートを持ちます。
  - method: 分解方法の選択。
  - decomposedAngle: 分解された三つの角度の入力。
  - axisOrient: ボーン方向を定義するための回転。
  - rotateOrder: 出力回転のオーダー指定。
  - outRotate: 合成されたオイラー角回転の出力。

##ボーン軸方向の定義について
デフォルトでは、ローカルX軸がボーン方向、Y軸が縦方向、Z軸が横方向となっていて、それに基づいた分解・合成がされます。
axisOrient アトリビュートによって、この方向を回転させることが出来ます。
decomposeRotate ノードと composeRotate ノードの設定が完全に同じであれば、分解したものを合成して元に戻すことが出来ます。
